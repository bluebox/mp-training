<section class="body">
  <h1 class="headerCat">{{ categoryId }}</h1>
  <div>

    <div class="box">
      <div class="inner-box">
        <h3 style="color: #0D6EFD;">Filter Problems</h3>
      </div>
      <div class="inner-box">
        <input type="text" id="search" placeholder="search for a problem">
      </div>
      <div class="inner-box">
        <p>choose difficulty</p>
        <select name="" class="difficulty-level" id="difficulty-level" class="difficulty">
          <option value="-1" class="level">All</option>
          <option value="0" class="level">Easy</option>
          <option value="1" class="level">Medium</option>
          <option value="2" class="level">Hard</option>
        </select>
      </div>
      <div class="inner-box">
      <button (click)="apply_filters()" class="btn btn-success">apply</button>
      </div>
    </div>

    <!-- <select (change)="submit()" name="" id="select">
      <option value="-1">
       ALL
        </option>
      <option value="0">EASY</option>
      <option value="1">MEDIUM</option>
      <option value="2">HARD</option>
    </select>
    
      <input type="text" [(ngModel)]="searchWord" placeholder="type and press ENTER" (keyup.enter)="submitSearch()"> -->
      <!-- <div id="group">
        <input value=-1 id="all" name="diff" type="radio">All
        <input value=0 id="easy" name="diff" type="radio">Easy
        <input value=1 id="medium" name="diff" type="radio">Medium
        <input value=2 id="hard" name="diff" type="radio">Hard
      </div>
      <button type="submit" (click)="submit()">filter</button> -->
    
  </div>
  <div class="tbl-header">

    <table id="dtBasicExample" cellpadding="0" cellspacing="0" border="0">
      <thead>
        <tr>
          <th class="th-sm">Problem

          </th>
          <th clickable class="th-sm">Difficulty
            <!-- <i *ngIf="sortBasedOnDifficulty == 0" class="bi bi-filter-square"></i>
            <i *ngIf="sortBasedOnDifficulty == 1" class="bi bi-sort-up-alt"></i>
            <i *ngIf="sortBasedOnDifficulty == -1" class="bi bi-sort-down"></i> -->
          </th>
          <th clickable (click)="sort_based_on_acc()" class="th-sm">Accuracy
            <i *ngIf="sortBasedOnAccuracy == 0" class="bi bi-filter-square"></i>
            <i *ngIf="sortBasedOnAccuracy == -1" class="bi bi-sort-down"></i>
            <i *ngIf="sortBasedOnAccuracy == 1" class="bi bi-sort-up-alt"></i>
          </th>
          <th class="th-sm">Likes Ratio

          </th>
        </tr>
      </thead>
    </table>
  </div>
  <div class="tbl-content">
    <table cellpadding="0" cellspacing="0" border="0">
      <tbody>
        <tr clickable *ngFor="let problem of p">
          <td clickable (click)="getProblem(problem.problem_id)">{{ problem.problem_name }}</td>
          <td class="easy" *ngIf="problem.difficulty_level === 0">Easy</td>
          <td class="medium" *ngIf="problem.difficulty_level === 1">Medium</td>
          <td class="hard" *ngIf="problem.difficulty_level === 2">Hard</td>
          <td>{{ problem.accuracy }}%</td>
          <td *ngIf="problem.likes > 0">{{ (problem.likes / (problem.likes + problem.dislikes)) * 100}}%</td>
          <td *ngIf="problem.likes == 0">0%</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="container">
    <ul class="pagination pages">
      <li class="page-item disabled" *ngIf="currentPage == 1">
        <p class="page-link" tabindex="-1">Previous</p>
      </li>
      <li class="page-item" *ngIf="currentPage != 1" (click)="move_to_previous_page()">
        <p class="page-link" tabindex="-1">Previous</p>
      </li>
      <li class="page-item active">
        <p id="page-count" class="page-link">{{ currentPage }} of {{ pages }}<span class="sr-only"></span></p>
      </li>
      <li class="page-item disabled" *ngIf="currentPage == pages">
        <p class="page-link" (click)="move_to_next_page()">Next</p>
      </li>
      <li class="page-item" id="nxtbtn" *ngIf="currentPage != pages">
        <p class="page-link" (click)="move_to_next_page()">Next</p>
      </li>
    </ul>
  </div>
</section>