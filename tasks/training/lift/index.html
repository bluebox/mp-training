<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css">
        
    </head>
    <body>
        <div class="building">

       <div class="floors">
        <div class="floor" id="4" value="0" >4 <button onclick="up(0)">UP</button> <button onclick="down()" >DOWN</button> </div>
        <div class="floor" id="3" value="1">3<button onclick="up(1)">UP</button> <button onclick="down()">DOWN</button> </div>
        <div class="floor" id="2" value="2">2<button onclick="up(2)">UP</button> <button onclick="down()">DOWN</button> </div>
        <div class="floor" id="1" value="3">1<button onclick="up(3)">UP</button> <button onclick="down()">DOWN</button> </div>
        <div class="floor" id="0" value="4">0<button onclick="up(4)">UP</button> <button onclick="down()">DOWN</button> </div>
       </div>
       
       <div class="lift" id="lift">
        <p>Lift</p>
       </div>
       <div class="keypad">
        <button class="f" onclick="up(0)">4</button>
        <button class="f" onclick="up(1)">3</button>
        <button class="f" onclick="up(2)">2</button>
        <button class="f" onclick="up(3)">1</button>
        <button class="f" onclick="up(4)">G</button>
       </div>


       
        </div>
        <script>
            let arrup=[0,0,0,0,0]
            let arrdown=[0,0,0,0,0]
            
            // let h=0
           let h=document.getElementById("lift").style.marginTop
            function up(var1){
            // let var1=document.getElementById("0").getAttribute("value")
            // console.log(var1);
           
            console.log(h)
            let c_f=4-var1
            let p_f=4-parseInt(h)/20
            if(isNaN(p_f)){
                p_f=0
            }
            console.log(c_f,h,p_f)
            if(c_f>p_f){
                arrup[c_f]=1
                console.log("up array",arrup)
                move(arrup)
            }
            else{
                arrdown[c_f]=1
                console.log("down array",arrdown)
                move(arrdown)
    
            }
            
            // return arrup,arrdown
            // console.log(c_f,4-parseInt(h)/20)
            // document.getElementById("lift").style.marginTop= (20*var1)+"vh"
            // return arrup, arrdown
            }
            
            
            function move(arr){
            setTimeout(() =>{
            for(i=0;i<arr.length;i++){
                if(arrup[i]==1){
                    console.log(i)       
                    document.getElementById("lift").style.marginTop= (20*(4-i))+"vh"; 
                    arrup[i]=0
                    console.log("up array",arrup)

                }}}, 2000);}
    
            
            
        </script>
    </body>
</html>